<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Driver Dashboard | Transport Management System</title>
    <link rel="stylesheet" href="../CSS[Files]/driver.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="container">
      <div class="dashboard-header">
        <div class="bar-icon" id="bar-icon" onclick="toggleSidebar()">
          <i class="fa-solid fa-bars-staggered col-1 fou-heading"></i>
        </div>
        <div class="logo">
          <img
            src="../assets/PNG[assets]/main_logo[trans].png"
            alt="main-logo"
          />
        </div>
        <div class="header-side">
          <div class="search-bar">
            <i class="fa fa-magnifying-glass col-1"></i>
            <input
              type="search"
              name="search"
              id="search"
              placeholder="Search anything here"
            />
          </div>
          <div class="bell-icon">
            <i class="fa-solid fa-envelope col-4 fou-heading"></i>
            <i class="fa fa-bell col-4 fou-heading"></i>
          </div>

          <div class="profile-card">
            <div class="driver-profile">
              <img
                src="../assets/JPG[assests]/Driver-1.webp"
                alt="driver-profile"
              />
              <div>
                <span class="col-4">Rizwan Ali</span>
                <p class="col-4">
                  Driver
                  <i
                    class="fa-solid fa-circle-chevron-down col-4"
                    onclick="driProfile()"
                  ></i>
                </p>
              </div>
              <div class="driver-profile-more" id="driverProfileMore">
                <a href="#"
                  ><i class="fa-solid fa-user col-1"></i> My Profile</a
                >
                <a href="#"
                  ><i class="fa-solid fa-comment-dots col-1"></i> Messages</a
                >
                <a href="#"
                  ><i class="fa-solid fa-gear col-1"></i> Account Settings</a
                >
                <a href="#" class="eLT" onclick="enableLiveTracking()"
                  ><i class="fa-solid fa-location-crosshairs col-1"></i> Enable
                  Live Tracking</a
                >
                <a href="#" onclick="logOut()"
                  ><i class="fa-solid fa-right-from-bracket col-1"></i>
                  Logout</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="dashboard-body">
        <div class="dashboard-sidebar">
          <div class="cross-icon" id="cross-icon" onclick="toggleSidebar()">
            <i class="fa-solid fa-xmark col-1 fou-heading"></i>
          </div>
          <div class="sidebar-header">
            <img
              src="../assets/PNG[assets]/main_logo[trans-wh].png"
              alt="main-logo"
            />
          </div>
          <div class="sidebar-body">
            <ul>
              <li>
                <a href="#"
                  ><button class="button-4">
                    <i class="fa-solid fa-chart-line col-3"></i>
                    <span class="col-3">Dashboard</span>
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-user col-1"></i> Profile
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-clipboard-list col-1"></i> Trips
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-calendar-days col-1"></i> Schedule
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-bus col-1"></i> Vehicle
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-message col-1"></i> Messages
                  </button></a
                >
              </li>
              <li>
                <a href="#"
                  ><button class="button-5">
                    <i class="fa fa-gear col-1"></i> Settings
                  </button></a
                >
              </li>
              <li>
                <a href="../index.html"
                  ><button class="button-5">
                    <i
                      class="fa fa-right-from-bracket col-1"
                      onclick="logConfirm()"
                    ></i>
                    Logout
                  </button></a
                >
              </li>
            </ul>
          </div>
        </div>
        <div class="dashboard-main">
          <div class="dashboard-main-card">
            <div class="driver-profile-card dashboard-cards">
              <span class="col-1 profile-span"
                ><i class="fa fa-user col-1"></i> Bio</span
              >
              <!-- <div class="profile-img"> -->
              <img src="../assets/JPG[assests]/Driver-1.webp" alt="driver-1" />
              <!-- </div> -->
              <p class="col-4">Rizwan Ali</p>
              <p class="col-4">rizwan@tms</p>
              <p class="col-4">+92 333 888</p>
              <a href="#"><button class="button-3">Veiw Profile</button></a>
            </div>
            <div class="trips-card dashboard-cards">
              <div>
                <i class="fa-solid fa-route fou-heading col-1"></i>
                <span class="fou-heading col-1">Total Trips</span>
              </div>
              <div>
                <span class="col-4">+2.1</span>
                <span class="col-4"> this month</span>
                <h2 class="secondary-heading col-4">
                  84<span class="col-4">t</span>
                </h2>
              </div>
              <canvas id="ridershipChart"></canvas>
            </div>
            <div class="trips-card dashboard-cards">
              <div>
                <i class="fa-regular fa-map fou-heading col-1"></i>
                <span class="fou-heading col-1">Distance Driven</span>
              </div>
              <div>
                <h2 class="secondary-heading col-4">
                  131<span class="col-4">km</span>
                </h2>
              </div>
              <div>
                <canvas id="myChart" width="250px" height="125px"></canvas>
              </div>
            </div>
            <div class="driver-hour-card dashboard-cards">
              <div>
                <i class="fa-regular fa-clock fou-heading col-1"></i>
                <span class="fou-heading col-1 mb-5">Driving Hours</span>
                <!-- </div>
              <div> -->
                <h2 class="secondary-heading col-4">
                  15<span class="col-4">hr</span> 20<span class="col-4"
                    >min</span
                  >
                </h2>
              </div>
              <div>
                <canvas
                  id="driverHoursChart"
                  width="200px"
                  height="125px"
                ></canvas>
              </div>
            </div>
          </div>

          <div class="dashboard-main-card">
            <div class="student-attendance dashboard-cards">
              <div>
                <i class="fa fa-user fou-heading col-1"></i>
                <span class="fou-heading col-1 mb-5">Student Attendance</span>
              </div>
              <div>
                <table>
                  <thead>
                    <th>Student ID</th>
                    <th>Student Name</th>
                    <th>Class</th>
                    <th>Status</th>
                    <th>Shift</th>
                  </thead>
                  <tbody>
                    <tr>
                      <td>#512346</td>
                      <td>Ali Ahmed</td>
                      <td>VIII</td>
                      <td class="col-5">Present</td>
                      <td>First</td>
                    </tr>
                    <tr>
                      <td>#456824</td>
                      <td>Fahad Saeed</td>
                      <td>VI</td>
                      <td class="col-5">Present</td>
                      <td>First</td>
                    </tr>
                    <tr>
                      <td>#487595</td>
                      <td>Neha Shah</td>
                      <td>VIII</td>
                      <td class="col-5">Present</td>
                      <td>First</td>
                    </tr>
                    <tr>
                      <td>#362452</td>
                      <td>Saeed Ali</td>
                      <td>VII</td>
                      <td class="col-6">Absent</td>
                      <td>Second</td>
                    </tr>
                    <tr>
                      <td>#252463</td>
                      <td>Ayesha Qamar</td>
                      <td>VII</td>
                      <td class="col-5">Present</td>
                      <td>First</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <a href="#"
                ><button class="button-3" onclick="studentData()">
                  Veiw More
                </button></a
              >
            </div>

            <div class="live-tracking">
              <div>
                <i
                  class="fa-solid fa-location-crosshairs fou-heading col-1"
                ></i>
                <span class="fou-heading col-1 mb-5">Live Tracking</span>
              </div>
              <div class="mapouter">
                <div class="gmap_canvas">
                  <iframe
                    width="100%"
                    height="40  0"
                    id="gmap_canvas"
                    src="https://maps.google.com/maps?q=lahore&t=&z=13&ie=UTF8&iwloc=&output=embed"
                    frameborder="0"
                    scrolling="no"
                    marginheight="0"
                    marginwidth="0"
                  ></iframe
                  ><a href="https://123movies-to.org"></a><br />
                  <style>
                    .mapouter {
                      position: relative;
                      text-align: right;
                      height: 250px;
                      width: 100%;
                    }
                  </style>
                  <a href="https://www.embedgooglemap.net"></a>
                  <style>
                    .gmap_canvas {
                      overflow: hidden;
                      background: none !important;
                      height: 250px;
                      width: 100%;
                    }
                  </style>
                </div>
              </div>
            </div>
          </div>
          <div class="dashboard-main-card">
            <div class="schedule-driver">
              <div class="filter-bar" id="filterBar">
                <button class="button-5 filter-button active" data-filter="all">
                  All Trips
                </button>
                <button class="button-5 filter-button" data-filter="En Route">
                  En Route
                </button>
                <button class="button-5 filter-button" data-filter="Planned">
                  Planned
                </button>
                <button class="button-5 filter-button" data-filter="Completed">
                  Completed
                </button>
                <button class="button-5 filter-button" data-filter="Cancelled">
                  Cancelled
                </button>
              </div>

              <div class="schedule-list" id="scheduleList">
                <!-- Trip items will be rendered here by JavaScript -->
              </div>
            </div>
            <div class="vehicle-details-card">
              <i
                class="fa-solid fa-up-right-from-square expand-icon"
                title="View Full Vehicle Details"
              ></i>
              <div class="image-column">
                <!-- Placeholder image URL for a clean bus -->
                  <img src="../assets/WEBP[assets]/bus-1.webp" alt="Image to zoom" class="vehicle-image">
              </div>
              <!-- Text Details Column -->
              <div class="details-text-column">
                <h2>Current Vehicle: BUS ID 007</h2>

                <!-- Detail 1: Fuel Type -->
                <div class="detail-item">
                  <i class="fa-solid fa-gas-pump"></i>
                  <div class="detail-label">8 km/liter efficiency</div>
                </div>
                <p
                  style="margin: -10px 0 0 35px; font-size: 1.2rem; color: #888"
                >
                  Fuel Type: Diesel
                </p>

                <!-- Detail 2: Length -->
                <div class="detail-item">
                  <i class="fa-solid fa-ruler-horizontal"></i>
                  <div class="detail-label">12.5 meters</div>
                </div>
                <p
                  style="margin: -10px 0 0 35px; font-size: 1.2rem; color: #888"
                >
                  Length
                </p>

                <!-- Detail 3: License Plate -->
                <div class="detail-item">
                  <i class="fa-solid fa-shield-halved"></i>
                  <div class="detail-label">AZ-458-TRD</div>
                </div>
                <p
                  style="margin: -10px 0 0 35px; font-size: 1.2rem; color: #888"
                >
                  License Plate
                </p>

                <!-- Detail 4: Service Due Date -->
                <div class="detail-item">
                  <i class="fa-solid fa-wrench"></i>
                  <div class="detail-label">09/15/2025</div>
                </div>
                <p
                  style="margin: -10px 0 0 35px; font-size: 1.2rem; color: #888"
                >
                  Service Due
                </p>
              </div>

              <!-- Image Column -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../SCRIPT[files]/driver.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/dist/boxicons.js"
      integrity="sha512-kWH92pHUC/rcjpSMu19lT+H6TlZwZCAftg9AuSw+AVYSdEKSlXXB8o6g12mg5f+Pj5xO40A7ju2ot/VdodCthw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById("myChart");

      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
          datasets: [
            {
              label: "Distance Driven (km)",
              data: [12, 19, 15, 18, 16, 10],
              backgroundColor: [
                "rgba(0, 91, 150, 0.8)",
                "rgba(255, 99, 132, 0.8)",
                "rgba(255, 159, 64, 0.8)",
              ],
              borderColor: [
                "rgba(0, 91, 150, 0.8)",
                "rgba(255, 99, 132, 0.8)",
                "rgba(255, 159, 64, 0.8)",
              ],
              // hoverOffset: 4
              borderWidth: 1,
            },
          ],
        },
        options: {
          responsive: true,
          animations: {
            tension: {
              duration: 1000,
              easing: "linear",
              from: 1,
              to: 0,
              loop: true,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              suggestedMax: 30,
            },
          },
        },
      });
    </script>
  </body>
</html>
